<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Selector Dinámico con JSON</title>
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f4f4f4;
    }
  </style>
</head>
<body>
  <h1>Selector Dinámico con Datos Dependientes</h1>
  <label for="selector">Selecciona una opción:</label>
  <select id="selector">
    <ption value="Opción 1">Opción 1</ption>
    <option value="Opción 2">Opción 2</option>
    <option value="Opción 3">Opción 3</option>
  </select>

  <table>
    <thead>
      <tr>
        <th>Selector</th>
        <th>Dependiente</th>
      </tr>
    </thead>
    <tbody id="table-body">
      <!-- Los datos dinámicos aparecerán aquí -->
    </tbody>
  </table>

  <script>
    // Datos en JSON
    const data = {
      options: [
        {
          selector: "Opción 1",
          dependents: ["Columna 1.1", "Columna 1.2"]
        },
        {
          selector: "Opción 2",
          dependents: ["Columna 2.1", "Columna 2.2", "Columna 2.3"]
        },
        {
          selector: "Opción 3",
          dependents: ["Columna 3.1"]
        }
      ]
    };

    // Seleccionar elementos HTML
    const selector = document.getElementById("selector");
    const tableBody = document.getElementById("table-body");

    // Escuchar cambios en el selector
    selector.addEventListener("change", (event) => {
      const selectedValue = event.target.value;

      // Encontrar datos dependientes en el JSON
      const selectedData = data.options.find(option => option.selector === selectedValue);

      // Limpiar la tabla antes de actualizarla
      tableBody.innerHTML = "";

      // Actualizar la tabla con los datos dependientes
      if (selectedData) {
        selectedData.dependents.forEach(dependent => {
          const row = `
            <tr>
              <td>${selectedValue}</td>
              <td>${dependent}</td>
            </tr>
          `;
          tableBody.innerHTML += row;
        });
      }
    });

    // Inicializar con la primera opción seleccionada
    selector.dispatchEvent(new Event("change"));
  </script>
</body>
</html>
